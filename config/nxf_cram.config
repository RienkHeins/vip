includeConfig 'nxf_vcf.config'

env {
  CMD_CLAIR3="apptainer exec --bind \${TMPDIR} /groups/solve-rd/tmp10/projects/vip_dev/nanopore/images/clair3-v0.1-r12.sif /opt/bin/run_clair3.sh"
  CMD_SNIFFLES2="apptainer exec --bind \${TMPDIR} /groups/solve-rd/tmp10/projects/vip_dev/nanopore/images/sniffles2-2.0.7.sif sniffles"
}

params {
  cram {
    sniffles2 {
      GRCh37 {
        tandem_repeat_annotations="${projectDir}/resources/GRCh37/tandem_repeat_annotations.bed"
      }
      GRCh38 {
        tandem_repeat_annotations="${projectDir}/resources/GRCh38/tandem_repeat_annotations.bed"
      }
    }
  }
}

process {
  withName: 'clair3_call' {
    cpus = 12
    memory = '16GB'
    time = '1h'
  }

  withName: 'sniffles2_sv_call' {
    cpus = 12
    memory = '16GB'
    time = '1h'
  }
}